<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
      integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <!-- <link rel="stylesheet" href="css/style.css" /> -->
     <style>
        :root {
            
            --clr-bm: #97d2f0; /* Light Blue */
            --clr-am: #d9d9d9; /* Light Grey */
            --clr-bt: #015478; /* Dark Blue */
            --clr-at: #677483; /* Medium Grey */
            --clr-ijo: #18ad00; /* Green */
            --clr-wth: #ffffff; /* White */
            --clr-blk: #000000; /* Black */
            --clr-bord: #d0d0d0; /* Border Grey */
            --clr-text: #666666; /* Text Grey */
        }
        body {
            font-family: Arial, sans-serif;
            background-color: var(--clr-wth);
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }
            .ha-header {
             background-color: var(--clr-bm); /* Menggunakan variabel dari root CSS */
             color: var(--clr-wth);
             padding: 20px;
             display: flex;
             justify-content: space-between;
             align-items: center;
             position: fixed;
             top: 0;
             width: 100%;
             z-index: 1000;
             height: 80px; /* Sesuaikan ukuran header */
            }
            
            .ha-header .ha-logo {
                margin-bottom: 20px;
                text-align: center;
             }
             
             .ha-logout {
                 padding-right: 20px; /* Menambah padding kanan untuk logout */
            }
             
             .ha-logout a {
                 color: var(--clr-wth);
                 text-decoration: none;
                 font-weight: bold;
                 padding: 5px 10px; /* Menambah padding pada link logout */
            }
             
             .ha-sidebar {
                 width: 200px;
                 background-color: var(--clr-bm);
                 padding: 20px;
                 border-right: 1px solid var(--clr-bord);
                 height: calc(100vh - 80px); 
                 position: fixed;
                 top: 100px; 
                 left: 0;
                 color: var(--clr-blk);
            }
             
             .ha-sidebar .ha-logo {
                 text-align: center;
                 margin-bottom: 20px;
            }
             
             .ha-sidebar ul {
                 list-style: none;
                 padding: 0;
                 margin: 0;
            }
             
             .ha-sidebar li {
                 margin-bottom: 10px;
            }
             
             .ha-sidebar a {
                 text-decoration: none;
                 color: var(--clr-blk);
                 display: block;
                 padding: 10px;
                 font-weight: bold;
                 border: 1px solid transparent;
            }
                
            .ha-sidebar a.active, .ha-sidebar a:hover {
                 background-color: var(--clr-ijo);
                 color: var(--clr-wth);
                 border-color: var(--clr-ijo);
            }
             
             .ha-content {
                 padding: 20px;
                 margin-left: 220px;
                 margin-top: 160px; /* Menyesuaikan dengan posisi yang lebih rendah */
                 max-width: calc(100% - 240px); /* Sesuaikan dengan lebar sidebar */
            }
             
             .ha-biodata, .ha-penanganan, .ha-rekam-medis {
                 display: none;
            }
             
             .ha-biodata.active, .ha-penanganan.active, .ha-rekam-medis.active {
                 display: block;
            }
             
             .ha-biodata dl {
                 margin-top: 20px;
            }
             
             .ha-biodata dl dt {
                 font-weight: bold;
                 padding-top: 10px;
            }
             
             .ha-biodata dl dd {
                 padding-bottom: 10px;
                 margin-left: 20px;
            }
             
             .ha-table {
                 width: 100%;
                 border-collapse: collapse;
                 margin-top: 20px;
             }
             
             .ha-table thead {
                 background-color: var(--clr-at);
                 color: var(--clr-blk);
            }
             
             .ha-table th, .ha-table td {
                 border: 1px solid var(--clr-bord);
                 padding: 8px;
                 text-align: left;
             }
             
             .ha-table tbody tr:nth-child(odd) {
                 background-color: var(--clr-wth);
            }
             
             .ha-table tbody tr:nth-child(even) {
                 background-color: var(--clr-am);
            }
             
             .ha-button {
                 margin-right: 5px;
                 padding: 5px 10px;
                 background-color: var(--clr-ijo);
                 color: var(--clr-wth);
                 border: none;
                 cursor: pointer;
            }
             
             .ha-button:hover {
                 background-color: #128700;
            }
    </style>
  </head>
  <body>
    <div class="ha-header">
      <div class="ha-logo">
        <img src="images\logo-hanimal.png" alt="Healthy Animal" />
      </div>
      <div class="ha-logout">
        <a href="#">Logout</a>
      </div>
    </div>
    <div class="ha-sidebar">
      <ul>
        <li><a href="#" class="ha-doctor-list-link">Doctor List</a></li>
        <li>
          <a href="#" class="ha-penanganan-link">Rekam Medis</a>
        </li>
      </ul>
    </div>
    <div class="ha-content">
      <div class="ha-doctor-list active">
        <table class="ha-table">
          <thead>
            <tr>
              <th>Username</th>
              <th>Email</th>
              <th>Nomor HP</th>
              <th>Kabupaten</th>
              <th>Klinik</th>
              <th>Alamat</th>
              <th>Info</th>
              <th>SIP</th>
              <th>STRV</th>
              <th>TTL</th>
              <th>Spesialis</th>
              <th>Pendidikan</th>
              <th>Keanggotaan</th>
              <th>Afiliasi</th>
              <th>Bahasa Internasional</th>
              <th>Bahasa</th>
              <th>Perkenalan</th>
            </tr>
          </thead>
          <tbody>
            <% doctor.forEach(doctor => { %>
              <tr>
                <td><%= doctor.username %></td>
                <td><%= doctor.email %></td>
                <td><%= doctor.no_hp %></td>
                <td><%= doctor.kabupaten %></td>
                <td><%= doctor.klinik %></td>
                <td><%= doctor.alamat %></td>
                <td><%= doctor.info %></td>
                <td><%= doctor.sip %></td>
                <td><%= doctor.strv %></td>
                <td><%= doctor.ttl %></td>
                <td><%= doctor.spesialis %></td>
                <td><%= doctor.pendidikan %></td>
                <td><%= doctor.keanggotaan %></td>
                <td><%= doctor.afiliasi %></td>
                <td><%= doctor.bahasaint %></td>
                <td><%= doctor.bahasa %></td>
                <td><%= doctor.perkenalan %></td>
              </tr>
            <% }); %>
          </tbody>
        </table>
      </div>
      <div class="ha-penanganan">
        <button class="ha-button">Tambah Laporan</button>
        <table class="ha-table">
          <thead>
            <tr>
              <th>Tanggal</th>
              <th>Keluhan</th>
              <th>Diagnosa</th>
              <th>Tindakan</th>
              <th>Tindak Lanjut</th>
              <th>Keterangan</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>19 November 2022</td>
              <td>Dilakukan operasi karena perut terkena infeksi serius</td>
              <td>Perut berlubang, perut dibilas</td>
              <td>Operasi, pemberian antibiotik</td>
              <td>Perawatan di rumah, pengawasan ketat</td>
              <td>Hewan menjadi sembuh dalam waktu cepat</td>
            </tr>
            <tr>
              <td>23 Agustus 2023</td>
              <td>Kucing tidak makan karena terkena flu burung</td>
              <td>Diagnosis flu burung</td>
              <td>Obat diteteskan di mata, memberikan makanan penambah nafsu makan</td>
              <td>Diizinkan kembali setelah kucing makan dengan baik</td>
              <td>Menghilangkan sakit dan sembuh dari flu burung</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="ha-rekam-medis">
        <button class="ha-button">Tambah Laporan</button>
        <table class="ha-table">
          <thead>
            <tr>
              <th>Tanggal</th>
              <th>Keluhan</th>
              <th>Diagnosa</th>
              <th>Tindakan</th>
              <th>Tindak Lanjut</th>
              <th>Keterangan</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>19 Januari 2023</td>
              <td>Kucing muntah-muntah</td>
              <td>Mual</td>
              <td>Obat</td>
              <td>Pemulihan</td>
              <td>Muntah-muntah</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const url = window.location.href;
        const activePage = url.substring(url.lastIndexOf('/') + 1);
        
        const sidebarLinks = document.querySelectorAll('.ha-sidebar a');
        sidebarLinks.forEach(link => {
          link.classList.remove('active');
          if (link.getAttribute('href') === activePage) {
            link.classList.add('active');
          }
        });
      });
      function toggleEditPanel(doctorsId) {
            const editPanel = document.getElementById('editPanel_' + userId);
            editPanel.classList.toggle('active');
        }

        function closeEditPanel(doctorsId) {
            document.getElementById('editPanel_' + doctorsId).classList.remove('active');
        }

        function updateUser(doctorsId) {
            const formData = new FormData(document.querySelector(`#editPanel_${userId} .editForm`));

            fetch(`/users/${userId}`, {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                console.log(data.message);
                closeEditPanel(userId); // Close edit panel after successful update
                // Optionally, reload the page or update the user list
            })
            .catch(error => console.error('Error updating user:', error));
        }
    </script>
  </body>
</html>
